#+TITLE: dired+

#+BEGIN_src emacs-lisp
;; Disabled for now
;; (desktop-save-mode 1)
;; load all values eagerly
;(setq desktop-restore-eager 10)
;; Don't save TRAMP, ftp, or "KILL" buffers
(setq desktop-files-not-to-save "\\(^/[^/:]*:\\|(ftp)$\\|KILL\\)")
;; Don't restore different frames, only restore the one frame
(setq desktop-restore-frames nil)

(use-package desktop+
  :ensure t
  :init
  (defun load-default-desktop ()
    "Load the default EOS desktop, assuming one has been saved
with the name `default'."
    (interactive)
    (desktop+-load "default")
    (message "Loaded \"default\" desktop.")))

  (setq dired-listing-switches "-lFaGh1v --group-directories-first")


(load-file (expand-file-name
		      "~/.emacs.d/site-lisp/dired+.el"
		      user-emacs-directory))


;  (add-hook 'after-init-hook #'load-default-desktop))
#+END_SRC
